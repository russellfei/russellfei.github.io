---
layout: null
category: emacs
title: "我与《Emacs一周年》的故事"
subtitle: "追逐大师"
header-img: "_img/posts/post-oneyear-bg.jpg"
date: 2015-01-01 12:00:00
author: "russellfei"
tags: 
    - Emacs
---

### 1. 忽闻水上琵琶声 ###

一年前的时候，决定开始放弃 MS Word，转而使用LaTeX。学习了一阵子LaTeX之后，对于WinEdit这类必须收费的编辑器产生了厌倦。而当时的我，逐渐对研究生的生活产生了极度的反感，非常惋惜没有听本科时老师给我的那句“直接出国去”的建议，退学的情绪即将突破临界点。那时候，我想到了课堂上老师提到的王垠，那个愤而退学的THer。我搜索了他退学前后的文章以及其他人的博客，里面提到了有个东西叫Emacs，"说王垠玩Emacs导致了退学"，顿生好奇，决定了解下Emacs到底是什么样的存在。

无意中搜到了这篇《像神一样使用编辑器》，匆匆读完，确实觉得Emacs非一日之功，但是深感Emacs的强大。但最主要的那点是——你能想到的，Emacs都能做到；你想不到的，Emacs也能做到。当时，对于Vim已经略有耳闻，不过redguardtoo也是从Vim阵营转投Emacs，所以并没有太多地考虑Vim。只是觉得随着时间的积累，便能慢慢体会Emacs的强大与奥妙。

### 2. 千呼万唤始出来 ###

第一次装完Emacs，是在Cygwin平台上，当时打开Emacs的时候，自觉的就用鼠标开始各种点击，对于使用鼠标的编辑过程确实非常繁琐；同时，Emacs的GUI非常的老旧，让人乍看觉得Emacs应该直接去博物馆收藏起来。硬着头皮读完了 C-h t 中的内容，每次使用经常需要来回查阅快捷键。就这样没有任何配置的情况下糟糕的用户体验，没有多久，Emacs就卸载了，LaTeX也放在了一旁。不得不承认，Windows平台下的开源工具的使用是多么反人类。即便如《一周年》中所述的“程序员开发三神器——emacs, git, cygwin“，依旧很难让人体会到其中的便捷。

### 3. 柳暗花明又一村 ###

要说真正的Emacs起步，应该从1月份下定决心分期入MBP开始。Mac平台下的 EmacsforMacOSX是针对Mac平台的一个mod，比较适合初学者使用的Emacs安装源，更新也比较稳定。装上Emacs之后，就顺手下载了 redguardtoo的github配置的.zip（那时候我还不怎么会使用git），解压之后载入Emacs，Emacs默认全屏，然后快捷键的绑定似乎默认启用了evil-mode，并没有Vim使用经验的我直接给redguardtoo吐槽了一番。话说，到目前为止，我依旧无法领悟使用evil-mode的必要性、或者说其中的奥妙，此处下文继续详述。

很意外，redguardtoo很快回复了我的吐槽，也是这时候，开始关注《一周年》中提到的“世界级”的purcell配置。很简单，Purcell的配置里默认没有开启evil-mode，他一直是在Mac OS X平台使用Emacs，更加适合处理Mac平台下的问题。因此，我转而使用了Purcell的配置。我记得当时的redguardtoo的配置是一系列.el文件，并没有像后来这样在Purcell的基础上进行文件的分类组织。话说当时我的打算是经过Purcell配置上手之后，再回来研究redguardtoo的配置。其实，当时对于配置的选择确实花费了不少时间，EmacsWiki上推荐的starter-kit等众多的配置确实会让初学者感到无所适从。现在看来，Emacs的开始就是折腾，跟着Emacser们一起折腾，重要的是根据常用的工作平台：如果是Mac，那么直接使用Purcell的配置是不错的，只是注意国内用户需要使用代理来访问某些内容；如果是Linux平台，那么选用redguardtoo的配置是最好的，因为redguardtoo本人开始就是在Linux上使用Emacs的，而且有问题可以直接使用中文进行交流，并不需要像前者那样需要英文对话，这也是对国内的初学者的极大便利，毕竟母语的交流没有太多的障碍。

完成了Emacs的配置，那么我们就开始学习使用Emacs吧！

想必大多数人都是从 C-h t开始的，你是否会觉得阅读体验不够好、分类太多一下子接受不了呢？诚然，这也是我当时的感受，幸好《一周年》中提到了一个Xah Lee的Emacser和他的“李杀网”。李杀网是一个非常好的站点，对于组织较好的网页形式的reference，非常适合初学者阅读使用。我花了两周时间过了一遍绝大部分的功能，专注于平时个人在使用时候的一些操作需求，以几个命令为主，其余的可以使用smex来进行检索。这样来回五六遍，Emacs的基本操作也不是问题了。当然，这时候你就发现，你不怎么会需要鼠标了，除非你正在玩Starcraft等需要鼠标操作的RTS游戏，连触摸板也很少使用了；同时spotlight成为了必备的工具，这里我之前也使用过比如quicksilver等工具，但是我日常的操作并不需要那么复杂的查找功能（因为有Emacs:-)）

### 4. 初极狭，才通人，复行数十步，豁然开朗 ###

基本上手Emacs之后，我便开始使用Emacs编辑tex文件，就像redguardtoo开始他的GTD一样，兴趣总是最好的老师。由于Emacs有支持tex语法检查和自动高亮功能，tex文件的编辑非常清爽，加之Yasnippet的便捷。在我花了几周解决了中文字符的排版问题之后，Emacs编辑LaTeX似乎已经是非常舒服的过程了。恰恰在此时，想起了李杀网上关于org-mode的说明，我转而开始研究org-mode这个能与Emacs完美契合的笔记工具。查阅了org-mode的社区之后，我惊喜的发现，org-mode简洁的树状文件可以直接转换为tex文件并排版成pdf！同时，对于beamer的使用也是非常的方便，多试几次就能对应org-mode的树状结构和幻灯片层次之间的对应。同时，org-mode的GTD功能也是异常强大，灵活的任务列表模式使之成为GTD的神器，没有之一。（值得注意的是，Emacs的很多功能都是没有之一的）

那阵子的时间，org-mode成为使用Emacs的唯一理由。之后也折腾过LaTeX与XeLaTeX之间的切换，为此还研究了很多org-mode开发者的博客，这些人里我主要follow的是[Sacha Chua](https://github.com/sachac)的博客，并在其博客中找到了那张手绘的Emacs教程，非常的形象和实用，也算是除了李杀网以外我第二参考的资料源了。当然，这两个TeX引擎的折腾最终还是以失败告终。当然，我的排版要求并不高，只是需要简单的文件输出。至于复杂的排版，直接上tex-mode用LaTeX语言来做——因为我的所有的电脑的使用环境都是英文的，之前一直疯狂追逐国外纪录片，对于英文的输入比中文更加适应，特别是在计算机上，我认为源于英语世界，自然是使用计算机诞生的环境更加适合。计算机上一旦中文的东西多了，自然翻译就多了，一来二去，信息的失真、操作的复杂性必然会影响使用者——这也算是个人的用户习惯了。

### 5. 润物细无声 ###

不知不觉，在一直使用Emacs的org-mode的同时，开始使用它编辑代码，强大的语言环境支持和自动高亮功能确实给工作效率和工作体验带来了实质性的提升。这一时间段，主要关注了Emacs的字体、配色和在代码编辑中的使用。我的第一把机械键盘也是在这期间入手的。机械轴与薄膜之间的明显手感提升，特别是青轴的确认感，可以不用看键盘专注于屏幕的操作，非常舒服。

当然，有一点是备受争议的，那就是Emacs的众多组合键的分布不合理，特别是进场使用的Ctrl键，对于手部的移动过大，堪称是“小拇指的天敌”，这点，可以参见李杀网上关于键位的论述，但是千万要注意的是Xah Lee本人对键盘的使用偏好可能不适合与绝大多数人，其键盘的推荐也是在此基础上进行推导得出的。在相当长的一段时间里，左手小拇指的压力保持在警戒线附近，频繁的手部移动，确实给了部分看不惯Emacs的Vimer可以有利攻击的破绽。

幸运的是，自从入手第一把机械键盘之后，也开始关注其他的主流机械键盘的行情，无意中认识了一群使用HHKB的土豪们;-)，这里倒不是为了哭穷，在我看到HHKB的键位的一刹那，瞬间明白了青轴108右上角那四个看似无用的功能键的最后一个，即Caps和Ctrl的互换。随后，你就会发现，因为现在Windows的大行其道，所有的机械键盘都是按照Windows的键位进行设置i的。虽然此前有Stallman的HHKB，但其过高的价格也让大多数人（包括现在的我）望洋兴叹。对于HHKB的市场，可以用极其小众来形容——即使是玩机械键盘的也很少有人会使用HHKB的配列；更不用说客制化键盘的高昂的DIY成本。值得一提的是，玩键盘的人里，有很多职业的程序员，很多都是Vim老手，他们并不关注编辑器的本身，而是关注其编辑文件的效率。也许，这也是为什么经验丰富的Emacser都在孜孜不倦地设计各种便捷的Emacs功能扩展的原因吧。Emacs和Vim并不需要有明显的敌对，那些关于Emacs和Vim的口水战似乎并没有聚焦到两大神器的核心上。

回到正题，对于Caps和Ctrl的键位互换，带来的是小拇指的解放，直接向左平移即可，众多组合键的操作范围左手完全能够照顾。后来，我也阅读过Vim的入门资料，其中有一点就提到了Esc这个命令模式的触发键的重新设置问题，在此看来，微软能够改变绝大多数人的使用习惯，不得不承认其帝国级别的统治地位。

### 6. 不识庐山真面目 ###

最近，有段时间把《一周年》中列举的许多没有之一的功能开启了，用了段时间之后，再做精简，去除了一些并不需要的功能。同时也开始使用Emacs的其余的部分功能，比如用erc潜水于各大irc频道，纯粹简洁的功能比塞满各种flash的QQ要便捷许多，更加专注于交流的本身，许多社区里的开发者们会给我一些目前没有触及的名词，然后就可以像哥伦布发现新大陆一样，发现又一个世界。

与此同时，也开始翻阅redguardtoo推荐的那本 *Writing GNU Emacs Extensions*，里面提讲述了拓展Emacs功能的方法，对于Emacs的内在结构也有一定的阐述。就像那句话说的一样，“每个Emacser最后都会开始写属于自己的Emacs插件”，这种无招胜有招的境界，也是Emacs经久不息的秘诀吧。王垠曾在博客中写到“Lisp已死，Lisp万岁”，这里也推荐下这片文章，相信很多人都读过，这句话对现在的我来说，确实一语胜千言，有种俯瞰整个计算机世界的风云变换的感觉。一直使用Purcell配置的我，也开始尝试着修改其配置，因为我所使用的代码并不需要web前端的开发，所以，在我自己的fork中把除了html之外的一些如css之类的在init.el里都注释掉了，目前还没有发现bug，不过，我觉得发现bug的人估计也是我自己，应该不会有人来关注我的fork，因为中文redguardtoo，英文Purcell足矣。

当然，现在的我也仅仅是使用了Emacs不到1%的功能，Emacs能收发邮件、编写Yasnippet、diff文件，这些许许多多的功能，还需要不断地去使用和适应，Emacs可能不是一种信仰，但至少是一种生活方式，一种无缝契合需求的生活方式，不光是程序员，还有许多人用Emacs在提升生活的效率。

一年的时间，从开始想直接退学的念头，到现在逐渐学会妥协，同时感受着Emacs带来的那种优雅的生活方式以及一路上遇见的Emacser、Vimer，确实是岁月莫大的恩赐。此刻，听着Hans Zimmer的*End Credit*，我突然怀念起Willam Turner，有些东西注定要去追寻，有些海洋注定要跨越，彼岸注定要到达！


#### 后记 ####

##### 1. 关于曾今的指路人——王垠 #####

后来我搜索过王垠留美之后的去向以及目前他自己维护的博客，我觉得世上的精彩在于包容，包容独特个性和才能的人。每个人都是上帝咬过一口的苹果，自有其闪光点。我没有资格去评判王垠的举措，但是我佩服其一人挑战制度的勇气。

##### 2. 对于evil-mode #####

Purcell和redguardtoo的个人配置文件中都是使用evil-mode的，但是，我学习过Vim的键位，一直无法适应。Vim的长处在于其多种编辑模式和文本对象等的按键简洁性，不过，在Emacs中，我觉得根据对应功能变量的组合按键更能关联其操作的语意，这一想法在阅读那本插件教程时特别坚定。难道是我对于Vim键位的理解不够？Vimer或者evil-moder们能给我些指导不？

#### feedback ####

mail only. Thx, I've fed up with disqus, which might degrade your reading experience.
